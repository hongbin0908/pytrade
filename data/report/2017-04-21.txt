0.516526524749
      top  accurate  threshold
0    1000  0.519000   0.530069
1    2000  0.525500   0.515282
2    3000  0.511333   0.502925
3    5000  0.510000   0.479605
4   10000  0.500000   0.409557
5  100000  0.500000   0.409557
      top  threshold    num1      roi1    num2      roi2    num3      roi3    num4      roi4
0  1000.0   0.530069   224.0  2.536002   492.0  0.482612   492.0  0.482612  1000.0 -0.450749
1  2000.0   0.515282   585.0 -0.260210  1387.0  0.102463  1387.0  0.102463  2000.0  0.539298
2  3000.0   0.502925   945.0 -0.225143  2433.0 -1.288543  2433.0 -1.288543  3000.0 -0.307373
3  5000.0   0.479605  1605.0  1.350145  4799.0  0.232018  4799.0  0.232018  5000.0  0.359150
4    -1.0   0.409557  1826.0  1.591973  6706.0 -0.333731  6706.0 -0.333731  6718.0 -0.343860
   year     top  threshold   num1      roi1   num2      roi2   num3      roi3   num4      roi4
0  2013  1000.0   0.421519  251.0  4.685579  893.0  0.869934  893.0  0.869934  894.0  0.849121
1  2013  2000.0   0.421519  251.0  4.685579  893.0  0.869934  893.0  0.869934  894.0  0.849121
2  2013  3000.0   0.421519  251.0  4.685579  893.0  0.869934  893.0  0.869934  894.0  0.849121
3  2013  5000.0   0.421519  251.0  4.685579  893.0  0.869934  893.0  0.869934  894.0  0.849121
4  2013    -1.0   0.421519  251.0  4.685579  893.0  0.869934  893.0  0.869934  894.0  0.849121
0  2014  1000.0   0.411843  251.0  0.977896  915.0  0.566593  915.0  0.566593  916.0  0.547780
1  2014  2000.0   0.411843  251.0  0.977896  915.0  0.566593  915.0  0.566593  916.0  0.547780
2  2014  3000.0   0.411843  251.0  0.977896  915.0  0.566593  915.0  0.566593  916.0  0.547780
3  2014  5000.0   0.411843  251.0  0.977896  915.0  0.566593  915.0  0.566593  916.0  0.547780
4  2014    -1.0   0.411843  251.0  0.977896  915.0  0.566593  915.0  0.566593  916.0  0.547780
0  2015  1000.0   0.425115  249.0  0.935515  900.0 -1.754473  900.0 -1.754473  903.0 -1.756836
1  2015  2000.0   0.425115  249.0  0.935515  900.0 -1.754473  900.0 -1.754473  903.0 -1.756836
2  2015  3000.0   0.425115  249.0  0.935515  900.0 -1.754473  900.0 -1.754473  903.0 -1.756836
3  2015  5000.0   0.425115  249.0  0.935515  900.0 -1.754473  900.0 -1.754473  903.0 -1.756836
4  2015    -1.0   0.425115  249.0  0.935515  900.0 -1.754473  900.0 -1.754473  903.0 -1.756836
0  2012  1000.0   0.409557  247.0  3.314090  899.0  2.191561  899.0  2.191561  902.0  2.226625
1  2012  2000.0   0.409557  247.0  3.314090  899.0  2.191561  899.0  2.191561  902.0  2.226625
2  2012  3000.0   0.409557  247.0  3.314090  899.0  2.191561  899.0  2.191561  902.0  2.226625
3  2012  5000.0   0.409557  247.0  3.314090  899.0  2.191561  899.0  2.191561  902.0  2.226625
4  2012    -1.0   0.409557  247.0  3.314090  899.0  2.191561  899.0  2.191561  902.0  2.226625
0  2011  1000.0   0.413697  250.0  0.044510  909.0 -2.501750  909.0 -2.501750  911.0 -2.343815
1  2011  2000.0   0.413697  250.0  0.044510  909.0 -2.501750  909.0 -2.501750  911.0 -2.343815
2  2011  3000.0   0.413697  250.0  0.044510  909.0 -2.501750  909.0 -2.501750  911.0 -2.343815
3  2011  5000.0   0.413697  250.0  0.044510  909.0 -2.501750  909.0 -2.501750  911.0 -2.343815
4  2011    -1.0   0.413697  250.0  0.044510  909.0 -2.501750  909.0 -2.501750  911.0 -2.343815
0  2016  1000.0   0.422501  251.0 -6.828959  931.0 -2.780942  931.0 -2.780942  932.0 -2.999190
1  2016  2000.0   0.422501  251.0 -6.828959  931.0 -2.780942  931.0 -2.780942  932.0 -2.999190
2  2016  3000.0   0.422501  251.0 -6.828959  931.0 -2.780942  931.0 -2.780942  932.0 -2.999190
3  2016  5000.0   0.422501  251.0 -6.828959  931.0 -2.780942  931.0 -2.780942  932.0 -2.999190
4  2016    -1.0   0.422501  251.0 -6.828959  931.0 -2.780942  931.0 -2.780942  932.0 -2.999190
0  2010  1000.0   0.427409  251.0  7.658004  922.0 -0.372403  922.0 -0.372403  923.0 -0.373236
1  2010  2000.0   0.427409  251.0  7.658004  922.0 -0.372403  922.0 -0.372403  923.0 -0.373236
2  2010  3000.0   0.427409  251.0  7.658004  922.0 -0.372403  922.0 -0.372403  923.0 -0.373236
3  2010  5000.0   0.427409  251.0  7.658004  922.0 -0.372403  922.0 -0.372403  923.0 -0.373236
4  2010    -1.0   0.427409  251.0  7.658004  922.0 -0.372403  922.0 -0.372403  923.0 -0.373236
0  2017  1000.0   0.420600   76.0  2.824601  337.0  3.804244  337.0  3.804244  337.0  3.804244
1  2017  2000.0   0.420600   76.0  2.824601  337.0  3.804244  337.0  3.804244  337.0  3.804244
2  2017  3000.0   0.420600   76.0  2.824601  337.0  3.804244  337.0  3.804244  337.0  3.804244
3  2017  5000.0   0.420600   76.0  2.824601  337.0  3.804244  337.0  3.804244  337.0  3.804244
4  2017    -1.0   0.420600   76.0  2.824601  337.0  3.804244  337.0  3.804244  337.0  3.804244
                      date   sym    open    high     low   close      pred
ds                                                                        
2017-04-21ABT   2017-04-21   ABT   43.94   43.98   43.43   43.53  0.514916
2017-04-21ANF   2017-04-21   ANF   11.69   11.69   11.34   11.68  0.497305
2017-04-21MMM   2017-04-21   MMM  191.15  191.62  190.59  191.50  0.489345
2017-04-21ADBE  2017-04-21  ADBE  131.84  131.97  131.03  131.52  0.484521
2017-04-21AMD   2017-04-21   AMD   13.08   13.12   12.90   13.00  0.458923
